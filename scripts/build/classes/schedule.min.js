routely.schedule=function(){"use strict";var a=routely.ajax,b=routely.api,c="<li><span class='r-service'>{{routeId}}</span><span class='r-destination'>{{destination}}</span><span class='r-scheduled'>{{scheduledTime}}</span><span class='r-remaining'>{{estimatedWait}}</span></li>",d=Handlebars.compile(c),e=function(c,d,e){var h=$(c),i=h.attr("rel"),j=b.getStop(i);h.hasClass("r-selected")===!1&&(f(h,d),e.html("<p><img src='images/ajax-loader.gif' alt='loading' /></p>"),a.get(e,j,null,g))},f=function(a,b){b.removeClass("r-selected"),a.addClass("r-selected")},g=function(a){if(a.Success){var b=a.Data,c=a.Model;h(c,b)}},h=function(a,b){var c=b.arrivals,e="<p>No schedule buses for this stop at this time.</p>";if(c.length>0){e="<li class='r-heading'><span class='r-service'>Service</span><span class='r-destination'>Destination</span><span class='r-scheduled'>Scheduled</span><span class='r-remaining'>Remaining</span></li>";for(var f=0;f<c.length;f++){var g=c[f];e+=d(g)}}a.html(e)};return{get:e}}();